<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kalendarz Adwentowy ‚Äì Quiz</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(#ffefef, #ffeaea);
      margin: 0;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      overflow-x: hidden;
    }
    h1 {
      color: #d62828;
      margin-bottom: 10px;
      animation: pulse 2s infinite;
    }
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    .day-box {
      width: 90%;
      max-width: 600px;
      background: white;
      padding: 20px;
      margin: 15px 0;
      border-radius: 12px;
      box-shadow: 0 0 15px rgba(0,0,0,0.15);
      position: relative;
      overflow: hidden;
    }
    .locked {
      opacity: 0.5;
      pointer-events: none;
    }
    button {
      margin-top: 10px;
      padding: 8px 14px;
      border: none;
      background: #d62828;
      color: white;
      border-radius: 6px;
      cursor: pointer;
    }
    button:hover {
      background: #a71c1c;
    }
    .password {
      margin-top: 10px;
      font-weight: bold;
      color: green;
    }

    /* Falling snow */
    .snowflake {
      position: fixed;
      top: -10px;
      color: white;
      font-size: 1.2em;
      animation: fall linear infinite;
    }
    @keyframes fall {
      0% { transform: translateY(0); opacity: 1; }
      100% { transform: translateY(100vh); opacity: 0; }
    }
  </style>
</head>
<body>
  <h1>üéÑ Adwentowy Quiz dla Ciebie ‚ù§Ô∏è</h1>
  <p>Odpowiedz na pytanie dnia, aby dostaƒá has≈Ço (numer paczki) üéÅ</p>

  <script>
    // Sprawdza parametr ?test=1 w URL
    const params = new URLSearchParams(window.location.search);
    const test = params.get('test');

    // Je≈õli test = 1 ‚Üí ustawiamy grudzie≈Ñ i dzie≈Ñ 25, inaczej normalna data
    const dzis = test ? new Date(2025, 11, 25) : new Date();

    const dane = [
      {dzien:1,pytanie:"Moje ulubione danie, kt√≥re ze mnƒÖ najczƒô≈õciej jesz?",odp:"pizza",haslo:"Paczka 1"},
      {dzien:2,pytanie:"Jakim pieszczotliwym okre≈õleniem najczƒô≈õciej Ciƒô nazywam?",odp:"kotku",haslo:"Paczka 2"},
      {dzien:3,pytanie:"Nasze miejsce pierwszej randki?",odp:"kino",haslo:"Paczka 3"},
      {dzien:4,pytanie:"Tw√≥j ulubiony s≈Çodycz?",odp:"czekolada",haslo:"Paczka 4"},
      {dzien:5,pytanie:"Jaki jest Tw√≥j ulubiony kolor?",odp:"czerwony",haslo:"Paczka 5"},
      {dzien:6,pytanie:"O kt√≥rej godzinie najczƒô≈õciej piszemy do siebie rano?",odp:"7",haslo:"Paczka 6"},
      {dzien:7,pytanie:"Jak nazywa siƒô nasz ulubiony film?",odp:"titanic",haslo:"Paczka 7"},
      {dzien:8,pytanie:"Co najczƒô≈õciej pijesz zimƒÖ?",odp:"kakao",haslo:"Paczka 8"},
      {dzien:9,pytanie:"Moje ulubione Twoje perfumy?",odp:"vanilla",haslo:"Paczka 9"},
      {dzien:10,pytanie:"Jakie zwierzƒô najbardziej Ciƒô rozczula?",odp:"kot",haslo:"Paczka 10"},
      {dzien:11,pytanie:"Nasza ulubiona piosenka?",odp:"perfect",haslo:"Paczka 11"},
      {dzien:12,pytanie:"Jak nazywa siƒô miesiƒÖc, w kt√≥rym zaczƒôli≈õmy pisaƒá?",odp:"maj",haslo:"Paczka 12"},
      {dzien:13,pytanie:"Ulubiony ≈õwiƒÖteczny film?",odp:"kevin",haslo:"Paczka 13"},
      {dzien:14,pytanie:"Twoje ulubione kwiaty?",odp:"roze",haslo:"Paczka 14"},
      {dzien:15,pytanie:"Jak nazywa siƒô nasze ulubione miejsce spacer√≥w?",odp:"park",haslo:"Paczka 15"},
      {dzien:16,pytanie:"Najlepszy nap√≥j gazowany?",odp:"cola",haslo:"Paczka 16"},
      {dzien:17,pytanie:"Jaki sezon roku jest Twoim ulubionym?",odp:"zima",haslo:"Paczka 17"},
      {dzien:18,pytanie:"Ulubiona czƒô≈õƒá cia≈Ça, kt√≥rƒÖ najczƒô≈õciej Ciƒô ca≈Çujƒô?",odp:"czolo",haslo:"Paczka 18"},
      {dzien:19,pytanie:"Twoje ulubione ≈õwiƒôto w roku?",odp:"boze narodzenie",haslo:"Paczka 19"},
      {dzien:20,pytanie:"Jaki deser zamawiasz najczƒô≈õciej?",odp:"lody",haslo:"Paczka 20"},
      {dzien:21,pytanie:"Jakie zwierzƒÖtko chcieliby≈õmy kiedy≈õ mieƒá?",odp:"pies",haslo:"Paczka 21"},
      {dzien:22,pytanie:"Nasza pierwsza wsp√≥lna potrawa, kt√≥rƒÖ przygotowali≈õmy?",odp:"nalesniki",haslo:"Paczka 22"},
      {dzien:23,pytanie:"Co zawsze poprawia Ci humor?",odp:"przytulas",haslo:"Paczka 23"},
      {dzien:24,pytanie:"Co do Ciebie czujƒô? ‚ù§Ô∏è",odp:"milosc",haslo:"Paczka 24"}
    ];

    dane.forEach(d => {
      const blok = document.createElement("div");
      blok.className = "day-box";

      const dzienDzis = dzis.getDate();
      const miesiacDzis = dzis.getMonth() + 1;

      let zablokowany = true;
      if (miesiacDzis === 12 && dzienDzis >= d.dzien) {
        zablokowany = false;
      }

      if (zablokowany) blok.classList.add("locked");

      blok.innerHTML = `
        <h2>‚ú® Dzie≈Ñ ${d.dzien}</h2>
        <p>${zablokowany ? "Odblokuje siƒô " + d.dzien + " grudnia üéÅ" : d.pytanie}</p>
        ${zablokowany ? "" : `
          <input type='text' id='odp${d.dzien}' placeholder='Twoja odpowied≈∫' />
          <button onclick='sprawdz(${d.dzien})'>Sprawd≈∫</button>
          <p id='wynik${d.dzien}' class='password'></p>
        `}
      `;

      document.body.appendChild(blok);
    });

    function sprawdz(dzien) {
      const wpis = document.getElementById("odp" + dzien).value.toLowerCase().trim();
      const poprawna = dane.find(x => x.dzien === dzien).odp;
      const wynik = document.getElementById("wynik" + dzien);

      if (wpis === poprawna) {
        wynik.textContent = dane.find(x => x.dzien === dzien).haslo + " üéÅ";
        wynik.style.color = "green";
      } else {
        wynik.textContent = "Niepoprawna odpowied≈∫ ‚ùå";
        wynik.style.color = "red";
      }
    }

    function snow() {
      for (let i = 0; i < 15; i++) {
        const s = document.createElement("div");
        s.className = "snowflake";
        s.textContent = "‚ùÑ";
        s.style.left = Math.random() * 100 + "%";
        s.style.fontSize = (Math.random() * 15 + 10) + "px";
        s.style.animationDuration = (Math.random() * 5 + 5) + "s";
        document.body.appendChild(s);
        setTimeout(() => s.remove(), 10000);
      }
    }
    setInterval(snow, 1000);
  </script>
</body>
</html>
